"use strict";(self["webpackChunkgo_shopping"]=self["webpackChunkgo_shopping"]||[]).push([[108],{6108:function(t,r,s){s.r(r),s.d(r,{default:function(){return p}});s(4114);var e=function(){var t=this,r=t._self._c;return r("div",{staticClass:"search"},[r("van-nav-bar",{attrs:{fixed:"",title:"商品列表","left-arrow":""},on:{"click-left":function(r){return t.$router.go(-1)}}}),r("van-search",{attrs:{readonly:"",shape:"round",background:"#ffffff",value:t.querySearch,"show-action":""},on:{click:function(r){return t.$router.push("/search")}},scopedSlots:t._u([{key:"action",fn:function(){return[r("van-icon",{staticClass:"tool",attrs:{name:"apps-o"}})]},proxy:!0}])}),r("div",{staticClass:"sort-btns"},[r("div",{staticClass:"sort-item",class:{active:"all"===t.currentSortType},on:{click:function(r){return t.sortGoods("all")}}},[t._v("综合")]),r("div",{staticClass:"sort-item",class:{active:"sales"===t.currentSortType},on:{click:function(r){return t.sortGoods("sales")}}},[t._v("销量")]),r("div",{staticClass:"sort-item",class:{active:"price"===t.currentSortType},on:{click:function(r){return t.sortGoods("price")}}},[t._v("价格")])]),r("div",{staticClass:"goods-list"},t._l(t.productList,(function(t){return r("GoodsItem",{key:t.goods_id,attrs:{goods:t}})})),1)],1)},o=[],a=s(4843),c=s(5720);const n=t=>{const{sortType:r,sortPrice:s,categoryId:e,goodsName:o,page:a}=t;return c.A.get("/goods/list",{params:{sortType:r,sortPrice:s,categoryId:e,goodsName:o,page:a}})};var i={name:"SearchIndex",components:{GoodsItem:a.A},computed:{querySearch(){return this.$route.query.search||""},queryCategory(){return this.$route.query.categoryId||""}},async created(){const t=await n({categoryId:this.queryCategory,goodsName:this.querySearch});this.productList=t.data.list.data},data(){return{currentSortType:"all",productList:[],page:1}},methods:{async sortGoods(t){this.currentSortType=t;const r=await n({categoryId:this.queryCategory,goodsName:this.querySearch,sortType:t});this.productList=r.data.list.data}}},u=i,d=s(1656),l=(0,d.A)(u,e,o,!1,null,"da94d10e",null),p=l.exports}}]);
//# sourceMappingURL=108.b0ec9090.js.map