{"version":3,"file":"js/621.6ccefc29.js","mappings":"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","sources":["webpack://go-shopping/./src/views/myorder/detail.vue","webpack://go-shopping/src/views/myorder/detail.vue","webpack://go-shopping/./src/views/myorder/detail.vue?890e","webpack://go-shopping/./src/views/myorder/detail.vue?7242","webpack://go-shopping/./src/api/order.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"order-detail-container\"},[_c('van-nav-bar',{staticStyle:{\"background-color\":\"#f8f8f8\",\"box-shadow\":\"0 2px 5px rgba(0, 0, 0, 0.1)\"},attrs:{\"fixed\":\"\",\"title\":\"订单详情页\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.go(-1)}}}),_vm._l((_vm.order.goods),function(item){return _c('div',{key:item.goods_id,staticClass:\"goods-info\"},[_c('van-card',{staticClass:\"goods-card\",attrs:{\"num\":item.total_num,\"price\":item.total_pay_price,\"title\":item.goods_name,\"thumb\":item.goods_image}})],1)}),_c('div',{staticClass:\"order-info\"},[_c('p',[_vm._v(\"订单信息\")]),_c('br'),_vm._l((_vm.orderInfo),function(info){return _c('div',{key:info.label,staticClass:\"info-item\"},[_c('p',{staticClass:\"label\"},[_c('van-icon',{attrs:{\"name\":info.icon}}),_vm._v(\" \"+_vm._s(info.label)+\" \")],1),_c('p',{staticClass:\"value\"},[_vm._v(_vm._s(info.value))])])})],2),_c('div',{staticClass:\"address-info\"},[_c('p',[_vm._v(\"地址信息\")]),_c('br'),_vm._l((_vm.addressInfo),function(address){return _c('div',{key:address.label,staticClass:\"info-item\"},[_c('p',{staticClass:\"label\"},[_c('van-icon',{attrs:{\"name\":address.icon}}),_vm._v(\" \"+_vm._s(address.label)+\" \")],1),_c('p',{staticClass:\"value\"},[_vm._v(_vm._s(address.value))])])})],2),_c('van-steps',{attrs:{\"direction\":\"vertical\",\"active\":0}},[_c('van-step',[_c('h3',[_vm._v(_vm._s(_vm.order.state_text))]),_c('p',[_vm._v(_vm._s(_vm.order.pay_time))])]),_c('van-step',[_c('h3',[_vm._v(\"支付成功\")]),_c('p',[_vm._v(_vm._s(_vm.order.pay_time))])]),_c('van-step',[_c('h3',[_vm._v(\"提交订单\")]),_c('p',[_vm._v(_vm._s(_vm.order.create_time))])])],1),_c('div',{staticClass:\"footer\"},[_c('button',{staticClass:\"footer-home\",on:{\"click\":function($event){return _vm.$router.push('/home')}}},[_vm._v(\"首页\")]),(_vm.order.goods.order_status === 30)?_c('button',{staticClass:\"footer-button secondary\"},[_vm._v(\"申请售后\")]):_vm._e(),_c('button',{staticClass:\"footer-button secondary\",on:{\"click\":_vm.orderEvaluate}},[_vm._v(\"订单评价\")]),_c('button',{staticClass:\"footer-button primary\",on:{\"click\":_vm.buyAgain}},[_vm._v(\"再次购买\")])])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"order-detail-container\">\r\n    <van-nav-bar\r\n      fixed\r\n      title=\"订单详情页\"\r\n      left-arrow\r\n      @click-left=\"$router.go(-1)\"\r\n      style=\"background-color: #f8f8f8; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\"\r\n    />\r\n\r\n    <div class=\"goods-info\" v-for=\"item in order.goods\" :key=\"item.goods_id\">\r\n      <van-card\r\n        :num=\"item.total_num\"\r\n        :price=\"item.total_pay_price\"\r\n        :title=\"item.goods_name\"\r\n        :thumb=\"item.goods_image\"\r\n        class=\"goods-card\"\r\n      >\r\n      </van-card>\r\n    </div>\r\n\r\n    <div class=\"order-info\">\r\n      <p>订单信息</p>\r\n      <br>\r\n      <div class=\"info-item\" v-for=\"info in orderInfo\" :key=\"info.label\">\r\n        <p class=\"label\">\r\n          <van-icon :name=\"info.icon\" />\r\n          {{ info.label }}\r\n        </p>\r\n        <p class=\"value\">{{ info.value }}</p>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"address-info\">\r\n      <p>地址信息</p>\r\n      <br>\r\n      <div class=\"info-item\" v-for=\"address in addressInfo\" :key=\"address.label\">\r\n        <p class=\"label\">\r\n          <van-icon :name=\"address.icon\" />\r\n          {{ address.label }}\r\n        </p>\r\n        <p class=\"value\">{{ address.value }}</p>\r\n      </div>\r\n    </div>\r\n\r\n    <van-steps direction=\"vertical\" :active=\"0\">\r\n      <van-step>\r\n        <h3>{{ order.state_text }}</h3>\r\n        <p>{{ order.pay_time }}</p>\r\n      </van-step>\r\n      <van-step>\r\n        <h3>支付成功</h3>\r\n        <p>{{ order.pay_time }}</p>\r\n      </van-step>\r\n      <van-step>\r\n        <h3>提交订单</h3>\r\n        <p>{{ order.create_time }}</p>\r\n      </van-step>\r\n    </van-steps>\r\n\r\n    <div class=\"footer\">\r\n      <!-- 添加返回首页按钮 -->\r\n      <button class=\"footer-home\" @click=\"$router.push('/home')\">首页</button>\r\n      <!-- 底部导航提供三个按钮：1. 申请售后或确认收货（根据订单状态而定） 2. 评价（根据订单状态而定） 3. 再次购买-->\r\n      <button class=\"footer-button secondary\" v-if=\"order.goods.order_status === 30\">申请售后</button>\r\n      <button class=\"footer-button secondary\" @click=\"orderEvaluate\">订单评价</button>\r\n      <button class=\"footer-button primary\" @click=\"buyAgain\">再次购买</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getOrderDetail } from '@/api/order'\r\nimport { addCart } from '@/api/cart'\r\nexport default {\r\n  name: 'OrderDetail',\r\n  data () {\r\n    return {\r\n      countPrice: 0,\r\n      countNum: 0,\r\n      order: {\r\n        goods: [],\r\n        address: {\r\n          name: '',\r\n          phone: '',\r\n          region: {\r\n            province: '',\r\n            city: '',\r\n            region: ''\r\n          },\r\n          detail: ''\r\n        }\r\n      }\r\n    }\r\n  },\r\n  async created () {\r\n    await this.getOrderDetail()\r\n    this.countGoodsNum()\r\n    this.countOrderPrice()\r\n    this.getPayStatus()\r\n  },\r\n  computed: {\r\n    getOrderID () {\r\n      return this.$route.query.orderId\r\n    },\r\n    orderInfo () {\r\n      return [\r\n        { icon: 'orders-o', label: '订单号:', value: this.order.order_no },\r\n        { icon: 'balance-o', label: '订单总价:', value: `¥${this.countPrice}` },\r\n        { icon: 'bill-o', label: '支付金额:', value: `¥${this.countPrice}` },\r\n        { icon: 'passed', label: '支付状态:', value: this.getPayStatus(this.order.pay_status) },\r\n        { icon: 'clock-o', label: '支付时间:', value: this.order.pay_time },\r\n        { icon: 'notes-o', label: '订单状态:', value: this.order.state_text }\r\n      ]\r\n    },\r\n    addressInfo () {\r\n      return [\r\n        { icon: 'user-o', label: '收件人:', value: this.order.address.name },\r\n        { icon: 'phone-o', label: '联系电话:', value: this.order.address.phone },\r\n        { icon: 'location-o', label: '收货地址:', value: `${this.order.address.region.province} ${this.order.address.region.city} ${this.order.address.region.region} ${this.order.address.detail}` }\r\n      ]\r\n    }\r\n  },\r\n  methods: {\r\n    orderEvaluate () {\r\n      this.$router.push({\r\n        path: '/myorder/review',\r\n        query: {\r\n          orderId: this.order.order_id\r\n        }\r\n      })\r\n    },\r\n    async buyAgain () {\r\n      // 得到goodsId、goodsNum和goodsSkuId，将商品加入购物车\r\n      // 遍历this.order的goods数组，得到每个商品的goods_id、goods_num和goods_sku_id\r\n      try {\r\n        // 遍历 this.order.goods 数组\r\n        for (const item of this.order.goods) {\r\n          // 发送请求，将商品加入购物车\r\n          await addCart(item.goods_id, item.total_num, item.goods_sku_id)\r\n        }\r\n        this.$router.push({ path: '/cart' })\r\n      // 如果需要，可以在这里执行购物车加入成功后的操作\r\n      } catch (err) {\r\n        console.error('Error adding items to cart:', err)\r\n      // 处理错误，例如显示错误信息给用户\r\n      }\r\n    },\r\n    countGoodsNum () {\r\n      this.order.goods.forEach(el => {\r\n        el.total_num && (this.countNum += el.total_num)\r\n      })\r\n    },\r\n    countOrderPrice () {\r\n      // 累加this.goodsList的goods_price_min\r\n      let price = 0\r\n      this.order.goods.forEach(item => {\r\n        price += Number(item.total_pay_price) * item.total_num\r\n      })\r\n      this.countPrice = price.toFixed(2)\r\n    },\r\n    getPayStatus (status) {\r\n      switch (status) {\r\n        case 10:\r\n          return '未支付'\r\n        case 20:\r\n          return '已支付'\r\n        default:\r\n          return '未知状态'\r\n      }\r\n    },\r\n    async getOrderDetail () {\r\n      try {\r\n        const res = await getOrderDetail(this.getOrderID)\r\n        this.order = res.data.order\r\n      } catch (err) { console.log(err) }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.order-detail-container {\r\n  max-width: 800px;\r\n  margin: 50px auto;\r\n  padding-bottom: 60px;\r\n  border-radius: 10px;\r\n  background-color: #f8f8f8;\r\n}\r\n\r\n.goods-info {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.goods-card {\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.goods-card .van-card__title,\r\n.goods-card .van-card__price,\r\n.goods-card .van-card__num {\r\n  font-size: 14px; /* 调整Card内主要文字的大小 */\r\n  color: #333;\r\n}\r\n\r\n.goods-card .van-card__thumb img {\r\n  width: 80px; /* 调整图片大小 */\r\n  height: 80px;\r\n  object-fit: cover;\r\n}\r\n\r\n.order-info, .address-info {\r\n  padding: 15px;\r\n  border-radius: 8px;\r\n  background-color: #fff;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\nh2 {\r\n  margin-bottom: 10px;\r\n  color: #333;\r\n  font-size: 18px;\r\n}\r\n\r\n.info-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.label {\r\n  width: 30%;\r\n  color: #888; /* 提示信息颜色稍浅 */\r\n  font-size: 16px;\r\n  font-weight: normal; /* 取消加粗 */\r\n}\r\n\r\n.value {\r\n  width: 65%;\r\n  color: #0a0a0a; /* 动态数据颜色较深 */\r\n  font-size: 16px;\r\n  text-align: right;\r\n}\r\n\r\np van-icon {\r\n  margin-right: 8px;\r\n  color: #999;\r\n}\r\n\r\n.footer {\r\n  position: fixed;\r\n  bottom: 0;\r\n  right: 0;\r\n  left: 0;\r\n  display: flex;\r\n  justify-content: flex-end; /* 按钮右对齐 */\r\n  align-items: center;\r\n  padding: 10px 20px; /* 调整间距 */\r\n  background-color: #fff;\r\n  box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);\r\n  border-top: 1px solid #eaeaea;\r\n  z-index: 1000; /* 确保底部导航位于页面内容之上 */\r\n}\r\n\r\n/* 新增的返回首页按钮样式 */\r\n.footer-home {\r\n  margin-right: auto; /* 将按钮推到最左边 */\r\n  font-size: 12px; /* 字体较小 */\r\n  color: #333; /* 深灰色字体 */\r\n  background: none; /* 去除按钮背景 */\r\n  border: none; /* 去除按钮边框 */\r\n  text-decoration: none; /* 移除下划线 */\r\n  cursor: pointer;\r\n  padding: 0;\r\n}\r\n\r\n.footer-button {\r\n  margin: 0 5px;\r\n  padding: 5px 10px; /* 缩小按钮尺寸 */\r\n  font-size: 14px;\r\n  text-align: center;\r\n  border: none;\r\n  border-radius: 20px;\r\n  cursor: pointer;\r\n}\r\n\r\n.footer-button.secondary {\r\n  background-color: #f0f0f0;\r\n  color: #333;\r\n}\r\n\r\n.footer-button.primary {\r\n  background-color: #FF3E47;\r\n  color: #fff;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=19f7f65f&scoped=true\"\nimport script from \"./detail.vue?vue&type=script&lang=js\"\nexport * from \"./detail.vue?vue&type=script&lang=js\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&id=19f7f65f&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"19f7f65f\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\r\n\r\n// 提交订单确认\r\n// mode: cart(购物车结算) 可补全参数cartIds\r\n// ifObj: buyNow(立即购买) 可补全参数goodsId, goodsNum, goodsSkuId,remark\r\nexport const checkOrder = (mode, ifObj) => {\r\n  // console.log('api接收参数mode:', mode)\r\n  // console.log('api接收参数ifObj:', ifObj)\r\n  const tfkObj = {\r\n    mode: mode, // buyNow：立即购买， cart: 购物车购买\r\n    delivery: 10, // 物流方式\r\n    shopId: 0, // 自提门店id\r\n    couponId: 0, // 优惠券ID，暂时不用\r\n    isUserPoints: 0, // 是否使用积分，1使用，0不使用\r\n    ...ifObj // 未传递的可选参数可用ifObj包装，动态展开\r\n  }\r\n  // console.log('api发送参数tfkObj:', tfkObj)\r\n  return request.get('/checkout/order', {\r\n    params: tfkObj\r\n  })\r\n}\r\n\r\n// 结算订单\r\n// mode: cart(购物车结算) 可补全参数cartIds\r\n// ifObj: buyNow(立即购买) 可补全参数goodsId, goodsNum, goodsSkuId\r\nexport const submitOrder = (mode, dataObj) => {\r\n  const tfkObj = {\r\n    mode: mode, // buyNow：立即购买， cart: 购物车购买\r\n    delivery: 10, // 物流方式\r\n    couponId: 0, // 优惠券ID，暂时不用\r\n    isUserPoints: 0, // 是否使用积分，1使用，0不使用\r\n    payType: 10, // 余额支付\r\n    ...dataObj // 未传递的可选参数可用dataObj包装，动态展开\r\n  }\r\n  return request.post('/checkout/submit', tfkObj)\r\n}\r\n\r\n// 订单列表\r\nexport const getMyOrderList = (dataType, page) => {\r\n  return request.get('/order/list', {\r\n    params: {\r\n      dataType,\r\n      page\r\n    }\r\n  })\r\n}\r\n\r\n// 获取订单详情\r\nexport const getOrderDetail = (orderId) => {\r\n  return request.get('/order/detail', {\r\n    params: {\r\n      orderId: orderId\r\n    }\r\n  })\r\n}\r\n\r\n// 取消订单\r\nexport const cancelOrder = (orderId) => {\r\n  return request.post('/order/cancel', {\r\n    orderId: orderId\r\n  })\r\n}\r\n\r\n// 支付未支付的订单\r\nexport const payOrder = (orderId, payType) => {\r\n  return request.get('/order/pay', {\r\n    query: {\r\n      orderId: orderId,\r\n      payType: payType // 支付方式，10：余额支付，20：微信支付\r\n    }\r\n  })\r\n}\r\n\r\n// 订单确认收货\r\nexport const receiptOrder = (orderId) => {\r\n  return request.post('/order/receipt', {\r\n    orderId: orderId\r\n  })\r\n}\r\n\r\n// 提交商品评价\r\nexport const submitComment = (dataObj) => {\r\n  return request.post('/order.comment/submit', {\r\n    orderId: dataObj.orderId,\r\n    form: dataObj.form\r\n  })\r\n}\r\n\r\n// 已评价的商品列表\r\nexport const getCommentList = (orderId) => {\r\n  return request.get('/order.comment/list', {\r\n    query: {\r\n      orderId: orderId\r\n    }\r\n  })\r\n}\r\n\r\n// 申请售后\r\nexport const refundGoods = (dataObj) => {\r\n  return request.post('/refund/goods', {\r\n    orderGoodsId: dataObj.orderGoodsId,\r\n    form: dataObj.form\r\n  })\r\n}\r\n"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","attrs","on","$event","$router","go","_l","order","goods","item","key","goods_id","total_num","total_pay_price","goods_name","goods_image","_v","orderInfo","info","label","icon","_s","value","addressInfo","address","state_text","pay_time","create_time","push","order_status","_e","orderEvaluate","buyAgain","staticRenderFns","name","data","countPrice","countNum","phone","region","province","city","detail","created","getOrderDetail","countGoodsNum","countOrderPrice","getPayStatus","computed","getOrderID","$route","query","orderId","order_no","pay_status","methods","path","order_id","addCart","goods_sku_id","err","console","error","forEach","el","price","Number","toFixed","status","res","log","component","checkOrder","mode","ifObj","tfkObj","delivery","shopId","couponId","isUserPoints","request","get","params","submitOrder","dataObj","payType","post","getMyOrderList","dataType","page","cancelOrder","receiptOrder","submitComment","form"],"sourceRoot":""}